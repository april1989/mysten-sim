FAIL [ 80.454s] sui::protocol_version_tests sim_only_tests::test_framework_incompatible_struct_ability

--- STDERR:              sui::protocol_version_tests sim_only_tests::test_framework_incompatible_struct_ability ---
thread '<unnamed>' panicked at 'Inconsistent state detected: root state hash: ECMHLiveObjectSetDigest { digest: CPJiq1nRxaXdAXEGVX2ZiyfTw3RVoDDHyqrmX59scKZx }, live object set hash: ECMHLiveObjectSetDigest { digest: EvYSM53zmBnQuDunXUSmtzCzNzujYSqNohTSsCESaYJE }', crates/sui-core/src/authority/authority_store.rs:1675:17
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


--- STDOUT: 
...
2023-06-26T21:59:58.713050Z  INFO protocol_version_tests::sim_only_tests: crates/sui/tests/protocol_version_tests.rs:345: %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
2023-06-26T21:59:58.713076Z  INFO protocol_version_tests::sim_only_tests: crates/sui/tests/protocol_version_tests.rs:345: 0. test schedule: [1, 2]
...
2022-01-03T02:04:57.043637Z  INFO node{id=2 task_id=1583 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:354: ********************************************************************************
2022-01-03T02:04:57.043637Z  INFO node{id=2 task_id=1583 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:355: YieldToSchedulerX id: 2, node id NodeId(2), name "k#99f25ef6..", task id TaskId(1583)
2022-01-03T02:04:57.043637Z  INFO node{id=2 task_id=1583 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:405: YieldToSchedulerX pending
2022-01-03T02:04:57.043637Z  INFO node{id=2 task_id=1583 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:406: ********************************************************************************
...
2022-01-03T02:05:20.245161Z  INFO node{id=3 task_id=616 name="k#b3fd5efb.."}: sui_core::authority: crates/sui-core/src/authority.rs:3698: Creating advance epoch transaction next_epoch=1 next_epoch_protocol_version=ProtocolVersion(12) next_epoch_system_packages=[] computation_cost=0 storage_cost=0 storage_rebate=0 non_refundable_storage_fee=0 tx_digest=TransactionDigest(BgKVYs4GrDbKm66fqkSh6W54hJ68hWELMev6RfSpqLfC)
instrumented_yield before change_epoch_tx_delay
2022-01-03T02:05:20.245161Z  INFO node{id=3 task_id=616 name="k#b3fd5efb.."}: sui_adapter_latest::execution_engine: sui-execution/latest/sui-adapter/src/execution_engine.rs:593: Call arguments to advance_epoch transaction: AdvanceEpochParams { epoch: 1, next_protocol_version: ProtocolVersion(12), storage_charge: 0, computation_charge: 0, storage_rebate: 0, non_refundable_storage_fee: 0, storage_fund_reinvest_rate: 500, reward_slashing_rate: 10000, epoch_start_timestamp_ms: 1641175519723 }
2022-01-03T02:05:20.245161Z  INFO node{id=3 task_id=616 name="k#b3fd5efb.."}: sui_core::authority: crates/sui-core/src/authority.rs:3751: Effects summary of the change epoch transaction: TransactionEffectsDebugSummary { bcs_size: 1518, status: Success, gas_used: GasCostSummary { computation_cost: 0, storage_cost: 0, storage_rebate: 0, non_refundable_storage_fee: 0 }, transaction_digest: TransactionDigest(BgKVYs4GrDbKm66fqkSh6W54hJ68hWELMev6RfSpqLfC), created_object_count: 9, mutated_object_count: 1, unwrapped_object_count: 0, deleted_object_count: 1, wrapped_object_count: 0, dependency_count: 1 }
instrumented_yield in create_checkpoints-true
2022-01-03T02:05:20.245161Z  INFO node{id=3 task_id=616 name="k#b3fd5efb.."}: sui_core::checkpoints: crates/sui-core/src/checkpoints/mod.rs:854: Epoch 0 root state hash digest: ECMHLiveObjectSetDigest { digest: EvYSM53zmBnQuDunXUSmtzCzNzujYSqNohTSsCESaYJE }
2022-01-03T02:05:20.245161Z  INFO node{id=3 task_id=616 name="k#b3fd5efb.."}: sui_core::checkpoints: crates/sui-core/src/checkpoints/mod.rs:909: creating last checkpoint of epoch 0 checkpoint_seq=30
2022-01-03T02:05:20.245161Z  INFO node{id=3 task_id=616 name="k#b3fd5efb.."}: sui_core::authority::authority_per_epoch_store: crates/sui-core/src/authority/authority_per_epoch_store.rs:1811: Epoch statistics: checkpoint_count=31, transaction_count=32, total_gas_reward=0 epoch=0
2022-01-03T02:05:20.245161Z  INFO node{id=3 task_id=616 name="k#b3fd5efb.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(H6VHKJbbGZiRpyXauvCjLorji9sDuZ53su14Ea8jiJfw) at epoch 0, sequence 30, previous digest Some(CheckpointDigest(E1jBYUe2TnjTnuVNn4KHZvYkC8CqG8FKmtEVdSwEA9zz)), transactions count 2, content digest CheckpointContentsDigest(3PJF4AqUUdjEtvjrZ7mjuhKepXFR8EnzMdR5q6EhhQXC), end_of_epoch_data Some(EndOfEpochData { next_epoch_committee: [(k#8dcff6d155040a656f4819b13111b52c5746a86ba72f395fbafe2ec3847d1e8140e624a751fdf6b5f2050bc7205cf9d30004c90b0c740affd326ce673cc2b23a2d24d53e2afeb286dfc668fd4060089d6d2b17b799dd36f90d332e54a7a338d4, 2500), (k#99f25ef61f8032b914636460982c5cc6f134ef1ddae76657f2cbfec1ebfc8d097374080df6fcf0dcb8bc4b0d8e0af5d80ebbff2b4c599f54f42d6312dfc314276078c1cc347ebbbec5198be258513f386b930d02c2749a803e2330955ebd1a10, 2500), (k#addeef94d898c88e40dbdeff91c5f105f9cf2c747fb6f2bc37ec03d6c91edb2e1a578cf544be8b0931e25f243d59b0c30d98a16ce3ba1d6cf1d7f50426992eb0adb3134b055be8140d2db5f25fb00d83f8e4222bf01fd6ac93a1ff4d79da58f2, 2500), (k#b3fd5efb5c872403a4ad13f1199513606d23354a845249aea157564c23ff3c15c6c9e652b72d740e8cacb93cbcc0686b0ec0cc0c1c760bfb42b436519fc5a8054b76533a97a9f23987d097ef96b1f2526bb2073fa10a7719941772347ef274f4, 2500)], next_epoch_protocol_version: ProtocolVersion(12), epoch_commitments: [] })
2022-01-03T02:05:20.248154Z  INFO node{id=4 task_id=1031 name="k#8dcff6d1.."}: sui_core::consensus_handler: crates/sui-core/src/consensus_handler.rs:344: Received 2f+1 EndOfPublish messages, notifying last checkpoint epoch=0
instrumented_yield in AsyncTransactionScheduler::run
2022-01-03T02:05:20.248155Z  INFO node{id=4 task_id=967 name="k#8dcff6d1.."}: sui_core::authority: crates/sui-core/src/authority.rs:3698: Creating advance epoch transaction next_epoch=1 next_epoch_protocol_version=ProtocolVersion(12) next_epoch_system_packages=[] computation_cost=0 storage_cost=0 storage_rebate=0 non_refundable_storage_fee=0 tx_digest=TransactionDigest(BgKVYs4GrDbKm66fqkSh6W54hJ68hWELMev6RfSpqLfC)
instrumented_yield before change_epoch_tx_delay
2022-01-03T02:05:20.248155Z  INFO node{id=4 task_id=967 name="k#8dcff6d1.."}: sui_adapter_latest::execution_engine: sui-execution/latest/sui-adapter/src/execution_engine.rs:593: Call arguments to advance_epoch transaction: AdvanceEpochParams { epoch: 1, next_protocol_version: ProtocolVersion(12), storage_charge: 0, computation_charge: 0, storage_rebate: 0, non_refundable_storage_fee: 0, storage_fund_reinvest_rate: 500, reward_slashing_rate: 10000, epoch_start_timestamp_ms: 1641175519723 }
2022-01-03T02:05:20.248155Z  INFO node{id=4 task_id=967 name="k#8dcff6d1.."}: sui_core::authority: crates/sui-core/src/authority.rs:3751: Effects summary of the change epoch transaction: TransactionEffectsDebugSummary { bcs_size: 1518, status: Success, gas_used: GasCostSummary { computation_cost: 0, storage_cost: 0, storage_rebate: 0, non_refundable_storage_fee: 0 }, transaction_digest: TransactionDigest(BgKVYs4GrDbKm66fqkSh6W54hJ68hWELMev6RfSpqLfC), created_object_count: 9, mutated_object_count: 1, unwrapped_object_count: 0, deleted_object_count: 1, wrapped_object_count: 0, dependency_count: 1 }
instrumented_yield in create_checkpoints-true
2022-01-03T02:05:20.248155Z  INFO node{id=4 task_id=967 name="k#8dcff6d1.."}: sui_core::checkpoints: crates/sui-core/src/checkpoints/mod.rs:854: Epoch 0 root state hash digest: ECMHLiveObjectSetDigest { digest: EvYSM53zmBnQuDunXUSmtzCzNzujYSqNohTSsCESaYJE }
2022-01-03T02:05:20.248155Z  INFO node{id=4 task_id=967 name="k#8dcff6d1.."}: sui_core::checkpoints: crates/sui-core/src/checkpoints/mod.rs:909: creating last checkpoint of epoch 0 checkpoint_seq=30
2022-01-03T02:05:20.248155Z  INFO node{id=4 task_id=967 name="k#8dcff6d1.."}: sui_core::authority::authority_per_epoch_store: crates/sui-core/src/authority/authority_per_epoch_store.rs:1811: Epoch statistics: checkpoint_count=31, transaction_count=32, total_gas_reward=0 epoch=0
2022-01-03T02:05:20.248155Z  INFO node{id=4 task_id=967 name="k#8dcff6d1.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(H6VHKJbbGZiRpyXauvCjLorji9sDuZ53su14Ea8jiJfw) at epoch 0, sequence 30, previous digest Some(CheckpointDigest(E1jBYUe2TnjTnuVNn4KHZvYkC8CqG8FKmtEVdSwEA9zz)), transactions count 2, content digest CheckpointContentsDigest(3PJF4AqUUdjEtvjrZ7mjuhKepXFR8EnzMdR5q6EhhQXC), end_of_epoch_data Some(EndOfEpochData { next_epoch_committee: [(k#8dcff6d155040a656f4819b13111b52c5746a86ba72f395fbafe2ec3847d1e8140e624a751fdf6b5f2050bc7205cf9d30004c90b0c740affd326ce673cc2b23a2d24d53e2afeb286dfc668fd4060089d6d2b17b799dd36f90d332e54a7a338d4, 2500), (k#99f25ef61f8032b914636460982c5cc6f134ef1ddae76657f2cbfec1ebfc8d097374080df6fcf0dcb8bc4b0d8e0af5d80ebbff2b4c599f54f42d6312dfc314276078c1cc347ebbbec5198be258513f386b930d02c2749a803e2330955ebd1a10, 2500), (k#addeef94d898c88e40dbdeff91c5f105f9cf2c747fb6f2bc37ec03d6c91edb2e1a578cf544be8b0931e25f243d59b0c30d98a16ce3ba1d6cf1d7f50426992eb0adb3134b055be8140d2db5f25fb00d83f8e4222bf01fd6ac93a1ff4d79da58f2, 2500), (k#b3fd5efb5c872403a4ad13f1199513606d23354a845249aea157564c23ff3c15c6c9e652b72d740e8cacb93cbcc0686b0ec0cc0c1c760bfb42b436519fc5a8054b76533a97a9f23987d097ef96b1f2526bb2073fa10a7719941772347ef274f4, 2500)], next_epoch_protocol_version: ProtocolVersion(12), epoch_commitments: [] })
2022-01-03T02:05:20.248559Z  INFO node{id=5 task_id=330 name="k#addeef94.."}: sui_core::consensus_handler: crates/sui-core/src/consensus_handler.rs:344: Received 2f+1 EndOfPublish messages, notifying last checkpoint epoch=0
2022-01-03T02:05:20.248559Z  INFO node{id=5 task_id=267 name="k#addeef94.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:168: Certified checkpoint with sequence 25 and digest CBqLRX5JCTiFa3UeGZV9sWm81E5Qw7SX9EcksB9doSi8
2022-01-03T02:05:20.248559Z  INFO node{id=5 task_id=267 name="k#addeef94.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:168: Certified checkpoint with sequence 26 and digest BaZ8zaKkJAwFQCgmqUbXPRg742P6rs35yP2jN3YDFhHo
2022-01-03T02:05:20.248559Z  INFO node{id=5 task_id=267 name="k#addeef94.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:168: Certified checkpoint with sequence 27 and digest HGuKBRdLDFJpYdgJ9orLWPiK4HDDxLQTDLi1Xnozypj2
2022-01-03T02:05:20.248559Z  INFO node{id=5 task_id=267 name="k#addeef94.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:168: Certified checkpoint with sequence 28 and digest Bmjn4UX168QMyQVjHDtWBb8PxC4N1p7BvhBS6cMMXzGC
instrumented_yield in AsyncTransactionScheduler::run
2022-01-03T02:05:20.248562Z  INFO node{id=5 task_id=266 name="k#addeef94.."}: sui_core::authority: crates/sui-core/src/authority.rs:3698: Creating advance epoch transaction next_epoch=1 next_epoch_protocol_version=ProtocolVersion(12) next_epoch_system_packages=[] computation_cost=0 storage_cost=0 storage_rebate=0 non_refundable_storage_fee=0 tx_digest=TransactionDigest(BgKVYs4GrDbKm66fqkSh6W54hJ68hWELMev6RfSpqLfC)
instrumented_yield before change_epoch_tx_delay
2022-01-03T02:05:20.248562Z  INFO node{id=5 task_id=266 name="k#addeef94.."}: sui_adapter_latest::execution_engine: sui-execution/latest/sui-adapter/src/execution_engine.rs:593: Call arguments to advance_epoch transaction: AdvanceEpochParams { epoch: 1, next_protocol_version: ProtocolVersion(12), storage_charge: 0, computation_charge: 0, storage_rebate: 0, non_refundable_storage_fee: 0, storage_fund_reinvest_rate: 500, reward_slashing_rate: 10000, epoch_start_timestamp_ms: 1641175519723 }
2022-01-03T02:05:20.248562Z  INFO node{id=5 task_id=266 name="k#addeef94.."}: sui_core::authority: crates/sui-core/src/authority.rs:3751: Effects summary of the change epoch transaction: TransactionEffectsDebugSummary { bcs_size: 1518, status: Success, gas_used: GasCostSummary { computation_cost: 0, storage_cost: 0, storage_rebate: 0, non_refundable_storage_fee: 0 }, transaction_digest: TransactionDigest(BgKVYs4GrDbKm66fqkSh6W54hJ68hWELMev6RfSpqLfC), created_object_count: 9, mutated_object_count: 1, unwrapped_object_count: 0, deleted_object_count: 1, wrapped_object_count: 0, dependency_count: 1 }
instrumented_yield in create_checkpoints-true
2022-01-03T02:05:20.248562Z  INFO node{id=5 task_id=266 name="k#addeef94.."}: sui_core::checkpoints: crates/sui-core/src/checkpoints/mod.rs:854: Epoch 0 root state hash digest: ECMHLiveObjectSetDigest { digest: EvYSM53zmBnQuDunXUSmtzCzNzujYSqNohTSsCESaYJE }
2022-01-03T02:05:20.248562Z  INFO node{id=5 task_id=266 name="k#addeef94.."}: sui_core::checkpoints: crates/sui-core/src/checkpoints/mod.rs:909: creating last checkpoint of epoch 0 checkpoint_seq=30
2022-01-03T02:05:20.248562Z  INFO node{id=5 task_id=266 name="k#addeef94.."}: sui_core::authority::authority_per_epoch_store: crates/sui-core/src/authority/authority_per_epoch_store.rs:1811: Epoch statistics: checkpoint_count=31, transaction_count=32, total_gas_reward=0 epoch=0
...
2022-01-03T02:05:23.763328Z  INFO node{id=2 task_id=1670 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:354: ********************************************************************************
2022-01-03T02:05:23.763328Z  INFO node{id=2 task_id=1670 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:355: YieldToSchedulerX id: 1, node id NodeId(2), name "k#99f25ef6..", task id TaskId(1670)
2022-01-03T02:05:23.763328Z  INFO node{id=2 task_id=1670 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:398: YieldToSchedulerX ready
2022-01-03T02:05:23.763328Z  INFO node{id=2 task_id=1670 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:399: ********************************************************************************
instrumented_yield in acquire_shared_locks_from_effects
2022-01-03T02:05:23.763329Z  INFO msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:657: -> executor running task with node id NodeId(2), name "k#99f25ef6..", task id TaskId(1583)
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1583 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:354: ********************************************************************************
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1583 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:355: YieldToSchedulerX id: 2, node id NodeId(2), name "k#99f25ef6..", task id TaskId(1583)
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1583 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:398: YieldToSchedulerX ready
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1583 name="k#99f25ef6.."}: msim::sim::task: /home/ubuntu/mysten-sim-x/msim/src/sim/task.rs:399: ********************************************************************************
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1645 name="k#99f25ef6.."}: sui_core::consensus_handler: crates/sui-core/src/consensus_handler.rs:344: Received 2f+1 EndOfPublish messages, notifying last checkpoint epoch=0
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=15127 name="k#99f25ef6.."}:execution_driver{tx_digest=TransactionDigest(BgKVYs4GrDbKm66fqkSh6W54hJ68hWELMev6RfSpqLfC)}: sui_adapter_latest::execution_engine: sui-execution/latest/sui-adapter/src/execution_engine.rs:593: Call arguments to advance_epoch transaction: AdvanceEpochParams { epoch: 1, next_protocol_version: ProtocolVersion(12), storage_charge: 0, computation_charge: 0, storage_rebate: 0, non_refundable_storage_fee: 0, storage_fund_reinvest_rate: 500, reward_slashing_rate: 10000, epoch_start_timestamp_ms: 1641175519723 }
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(GycgqxqQKfQ2Lw1rfA2bSdPhdTu4nK1FFmMDk9akELvg) at epoch 0, sequence 18, previous digest Some(CheckpointDigest(4EceWd4SUVMFYuYV748wSWd7UnfTP2urVa3tSVGd7ESx)), transactions count 1, content digest CheckpointContentsDigest(AbG4MURTjNLyPd5W3pQadHxnat5ZKADt2CzDmQicaVqd), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(8U9G7pqMpVwBs53vW1zGHzYb5yNe8gER91vQDAXxyfH1) at epoch 0, sequence 19, previous digest Some(CheckpointDigest(GycgqxqQKfQ2Lw1rfA2bSdPhdTu4nK1FFmMDk9akELvg)), transactions count 1, content digest CheckpointContentsDigest(9iymmKJjsrJ4NAZQWPbXhJdHovGthtEqjoChdYjp3u6R), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(2oMdV62zYsSF7rvY5jvWuy29HzfBCNReSDtWiqFVaxHE) at epoch 0, sequence 20, previous digest Some(CheckpointDigest(8U9G7pqMpVwBs53vW1zGHzYb5yNe8gER91vQDAXxyfH1)), transactions count 1, content digest CheckpointContentsDigest(FJd1UGrHrgnN2R1HHSPvdUzMQefq2hkMZCd8wpNMqnDp), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(2j5LUu2grEMVkYiUhsf8dKSwTYCZoL9f8Sd9MdM7iLiy) at epoch 0, sequence 21, previous digest Some(CheckpointDigest(2oMdV62zYsSF7rvY5jvWuy29HzfBCNReSDtWiqFVaxHE)), transactions count 1, content digest CheckpointContentsDigest(J3wYvyn5aN9bfAN8UE5ogwBCiMsysvZoc1yNVbCV8nYX), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(9ZpTPJd3QeFoKbUHoWQQYqGNXm721jC3gVPvsT9g7D7z) at epoch 0, sequence 22, previous digest Some(CheckpointDigest(2j5LUu2grEMVkYiUhsf8dKSwTYCZoL9f8Sd9MdM7iLiy)), transactions count 1, content digest CheckpointContentsDigest(hVFfRA2fJrZcxekkTvwbS7tYfKbeYHqkqTsJXzc2ve3), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(D6XrT5yJyCSfBVDXMyirYU33Pa1ZTNBziqch4eSX1iJf) at epoch 0, sequence 23, previous digest Some(CheckpointDigest(9ZpTPJd3QeFoKbUHoWQQYqGNXm721jC3gVPvsT9g7D7z)), transactions count 1, content digest CheckpointContentsDigest(6WQ1Z2cV94fhsKhhKGez98eeyLgQf2fUXPbvmMRUDX9i), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(7jyYuRZDydiykLKp2e9QdNjYx2CNG11Rq63Z1LLCjrZS) at epoch 0, sequence 24, previous digest Some(CheckpointDigest(D6XrT5yJyCSfBVDXMyirYU33Pa1ZTNBziqch4eSX1iJf)), transactions count 1, content digest CheckpointContentsDigest(4GRP1UucPcEndG9U4uNdnELxQRL9He15QAfx2czhQySt), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(CBqLRX5JCTiFa3UeGZV9sWm81E5Qw7SX9EcksB9doSi8) at epoch 0, sequence 25, previous digest Some(CheckpointDigest(7jyYuRZDydiykLKp2e9QdNjYx2CNG11Rq63Z1LLCjrZS)), transactions count 1, content digest CheckpointContentsDigest(8SYWvpLcekS3GTsUmknWMy1MeSh2jf62QXrioqGAC4cY), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(BaZ8zaKkJAwFQCgmqUbXPRg742P6rs35yP2jN3YDFhHo) at epoch 0, sequence 26, previous digest Some(CheckpointDigest(CBqLRX5JCTiFa3UeGZV9sWm81E5Qw7SX9EcksB9doSi8)), transactions count 1, content digest CheckpointContentsDigest(72KeVTb5KhpRfWisfw5Jp8RHmkSGdEv6EixwWfxCaENX), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(HGuKBRdLDFJpYdgJ9orLWPiK4HDDxLQTDLi1Xnozypj2) at epoch 0, sequence 27, previous digest Some(CheckpointDigest(BaZ8zaKkJAwFQCgmqUbXPRg742P6rs35yP2jN3YDFhHo)), transactions count 1, content digest CheckpointContentsDigest(C5bA81fG5STV3uUs9kya9uBiiVT7WoLHwPQyYzaEQgNw), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(Bmjn4UX168QMyQVjHDtWBb8PxC4N1p7BvhBS6cMMXzGC) at epoch 0, sequence 28, previous digest Some(CheckpointDigest(HGuKBRdLDFJpYdgJ9orLWPiK4HDDxLQTDLi1Xnozypj2)), transactions count 1, content digest CheckpointContentsDigest(CRhCLjYCRED3VStzQcFDLbK1kTZSM6JseB5hMrSM7CZP), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints::checkpoint_output: crates/sui-core/src/checkpoints/checkpoint_output.rs:122: Creating checkpoint CheckpointDigest(E1jBYUe2TnjTnuVNn4KHZvYkC8CqG8FKmtEVdSwEA9zz) at epoch 0, sequence 29, previous digest Some(CheckpointDigest(Bmjn4UX168QMyQVjHDtWBb8PxC4N1p7BvhBS6cMMXzGC)), transactions count 1, content digest CheckpointContentsDigest(H4T714tFvFLnNGv7SxCTr5ho67H87YwGLNfvxr9Wknx8), end_of_epoch_data None
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::authority: crates/sui-core/src/authority.rs:3698: Creating advance epoch transaction next_epoch=1 next_epoch_protocol_version=ProtocolVersion(12) next_epoch_system_packages=[] computation_cost=0 storage_cost=0 storage_rebate=0 non_refundable_storage_fee=0 tx_digest=TransactionDigest(BgKVYs4GrDbKm66fqkSh6W54hJ68hWELMev6RfSpqLfC)
2022-01-03T02:05:23.763329Z  WARN node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::authority: crates/sui-core/src/authority.rs:3724: change epoch tx has already been executed via state sync
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_adapter_latest::execution_engine: sui-execution/latest/sui-adapter/src/execution_engine.rs:593: Call arguments to advance_epoch transaction: AdvanceEpochParams { epoch: 1, next_protocol_version: ProtocolVersion(12), storage_charge: 0, computation_charge: 0, storage_rebate: 0, non_refundable_storage_fee: 0, storage_fund_reinvest_rate: 500, reward_slashing_rate: 10000, epoch_start_timestamp_ms: 1641175519723 }
2022-01-03T02:05:23.763329Z ERROR node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_adapter_latest::execution_engine: sui-execution/latest/sui-adapter/src/execution_engine.rs:700: Failed to execute advance epoch transaction. Switching to safe mode. Error: Some(ExecutionError { inner: ExecutionErrorInner { kind: MoveAbort(MoveLocation { module: ModuleId { address: 0000000000000000000000000000000000000000000000000000000000000003, name: Identifier("sui_system_state_inner") }, function: 37, instruction: 186, function_name: Some("advance_epoch") }, 8), source: Some(VMError { major_status: ABORTED, sub_status: Some(8), message: Some("0x0000000000000000000000000000000000000000000000000000000000000003::sui_system_state_inner::advance_epoch at offset 186"), exec_state: Some(ExecutionState { stack_trace: [(Some(ModuleId { address: 0000000000000000000000000000000000000000000000000000000000000003, name: Identifier("sui_system") }), FunctionDefinitionIndex(33), 27)] }), location: Module(ModuleId { address: 0000000000000000000000000000000000000000000000000000000000000003, name: Identifier("sui_system_state_inner") }), indices: [], offsets: [(FunctionDefinitionIndex(37), 186)] }), command: Some(2) } }). Input objects: {0x0000000000000000000000000000000000000000000000000000000000000005: Object { data: Move(MoveObject { type_: MoveObjectType(Other(StructTag { address: 0000000000000000000000000000000000000000000000000000000000000003, module: Identifier("sui_system"), name: Identifier("SuiSystemState"), type_params: [] })), has_public_transfer: false, version: SequenceNumber(2), contents: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 2, 0, 0, 0, 0, 0, 0, 0] }), owner: Shared { initial_shared_version: SequenceNumber(1) }, previous_transaction: TransactionDigest(BgKVYs4GrDbKm66fqkSh6W54hJ68hWELMev6RfSpqLfC), storage_rebate: 0 }}. Tx data: ChangeEpoch { epoch: 1, protocol_version: ProtocolVersion(12), storage_charge: 0, computation_charge: 0, storage_rebate: 0, non_refundable_storage_fee: 0, epoch_start_timestamp_ms: 1641175519723, system_packages: [] }
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_types::sui_system_state: crates/sui-types/src/sui_system_state/mod.rs:145: Advance epoch safe mode: current epoch: 1, protocol_version: 12, system_state_version: 2
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_types::sui_system_state: crates/sui-types/src/sui_system_state/mod.rs:152: Safe mode activated. New epoch: 1, protocol_version: 12, system_state_version: 2
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::authority: crates/sui-core/src/authority.rs:3751: Effects summary of the change epoch transaction: TransactionEffectsDebugSummary { bcs_size: 564, status: Success, gas_used: GasCostSummary { computation_cost: 0, storage_cost: 0, storage_rebate: 0, non_refundable_storage_fee: 0 }, transaction_digest: TransactionDigest(BgKVYs4GrDbKm66fqkSh6W54hJ68hWELMev6RfSpqLfC), created_object_count: 0, mutated_object_count: 2, unwrapped_object_count: 0, deleted_object_count: 0, wrapped_object_count: 0, dependency_count: 1 }
should fail here: record_checkpoint_builder_is_safe_mode_metric
instrumented_yield in create_checkpoints-true
2022-01-03T02:05:23.763329Z  INFO node{id=2 task_id=1581 name="k#99f25ef6.."}: sui_core::checkpoints: crates/sui-core/src/checkpoints/mod.rs:854: Epoch 0 root state hash digest: ECMHLiveObjectSetDigest { digest: CPJiq1nRxaXdAXEGVX2ZiyfTw3RVoDDHyqrmX59scKZx }
...
2022-01-03T02:05:24.931394Z  INFO node{id=2 task_id=1670 name="k#99f25ef6.."}: sui_core::authority: crates/sui-core/src/authority.rs:2111: Sui conservation consistency check passed
2022-01-03T02:05:24.931394Z  INFO node{id=2 task_id=1670 name="k#99f25ef6.."}: sui_core::authority: crates/sui-core/src/authority.rs:2116: Performing state consistency check for epoch 0 -> failure
